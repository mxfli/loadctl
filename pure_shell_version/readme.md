# 旧版本脚本说明

⚠️ **警告：这些脚本已废弃，不再推荐使用**

本目录包含的旧版本资源控制脚本存在安全风险，已被新的 `loadctl` 工具套件替代。
建议所有用户迁移到新版本。

## 脚本列表

### 1. rush_cpu_memory_simple.sh

**原名**: `exchange_resource.sh`  
**功能**: 综合 CPU 和内存压力测试脚本

**主要特点**:

- 动态调整 CPU 负载，目标维持在 34%-48% 使用率
- 分配内存最多至系统总内存的 50%
- 支持参数自定义运行时间、计算强度、内存占用
- 随机运行时间 10-15 分钟（默认）

**存在的问题**:

- ❌ 使用 bash 内置循环模拟 CPU 负载，效率低且不精确
- ❌ 内存分配可能触发 OOM Killer，导致系统重启
- ❌ 缺乏专业的压力测试工具支持
- ❌ 监控机制不够完善，可能无法准确反映系统状态
- ❌ 极端情况下资源清理不完善

### 2. exchange_cpu.sh

**功能**: 单独 CPU 压力测试脚本

**主要特点**:

- 简单的 CPU 负载生成
- 基本的负载控制

**存在的问题**:

- ❌ 无限循环可能导致 CPU 资源耗尽
- ❌ 缺乏智能调节和保护机制
- ❌ 无法精确控制 CPU 使用率

### 3. exchange_mem.sh

**功能**: 单独内存压力测试脚本（极简版）

**主要特点**:

- 快速内存分配测试

**存在的问题**:

- ❌ 功能过于简单，缺乏保护机制
- ❌ 可能导致系统内存耗尽

## 迁移到新版本

新的 `loadctl` 工具套件提供了更安全、更可靠的替代方案：

✅ 使用专业的 `stress-ng` 工具  
✅ 智能监控和自动调整  
✅ 完善的安全保护机制  
✅ 渐进式负载启动  
✅ 优雅的资源清理

**请使用父目录的 `loadctl.sh` 替代这些旧脚本。**

详细文档请参考: [../README.md](../README.md)
